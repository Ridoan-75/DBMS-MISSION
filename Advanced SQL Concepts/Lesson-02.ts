=========================================================================================
                            SQL FUNCTIONS EXPLAINED 
=========================================================================================

=========================================================================================
# 0. Function ‡¶ï‡ßÄ?
=========================================================================================
Function ‡¶Æ‡¶æ‡¶®‡ßá ‡¶π‡¶≤‡ßã ‚Äî
üëâ **‡¶ï‡¶ø‡¶õ‡ßÅ built-in operation ‡¶Ø‡¶æ input ‡¶®‡ßá‡ßü ‡¶è‡¶¨‡¶Ç output ‡¶¶‡ßá‡ßü**

SQL-‡¶è Function ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶π‡ßü ‚Äî
- Data calculate ‡¶ï‡¶∞‡¶§‡ßá
- Data transform ‡¶ï‡¶∞‡¶§‡ßá
- NULL handle ‡¶ï‡¶∞‡¶§‡ßá
- Summary / report ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶§‡ßá

=========================================================================================
# 1. SQL Function-‡¶è‡¶∞ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶™‡ßç‡¶∞‡¶ï‡¶æ‡¶∞‡¶≠‡ßá‡¶¶
=========================================================================================

SQL Function ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶®‡¶§ ‡ß® ‡¶™‡ßç‡¶∞‡¶ï‡¶æ‡¶∞ ‚Äî

1Ô∏è‚É£ Scalar Functions  
2Ô∏è‚É£ Aggregate Functions  

-----------------------------------------------------------------------------------------
# Overview Table
-----------------------------------------------------------------------------------------
Scalar Function     ‚Üí Row by Row ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá  
Aggregate Function  ‚Üí Multiple Row ‡¶®‡¶ø‡ßü‡ßá ‡ßß‡¶ü‡¶æ result ‡¶¶‡ßá‡ßü  

=========================================================================================
# 2. Scalar Functions
=========================================================================================
üëâ Scalar Function ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶æ row-‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ result ‡¶¶‡ßá‡ßü

-----------------------------------------------------------------------------------------
# 2.1 String Functions
-----------------------------------------------------------------------------------------

UPPER()  ‚Üí ‡¶∏‡¶¨ character ‡¶¨‡ßú ‡¶π‡¶æ‡¶§‡ßá‡¶∞ ‡¶ï‡¶∞‡ßá  
LOWER()  ‚Üí ‡¶∏‡¶¨ character ‡¶õ‡ßã‡¶ü ‡¶π‡¶æ‡¶§‡ßá‡¶∞ ‡¶ï‡¶∞‡ßá  
LENGTH() ‚Üí string-‡¶è‡¶∞ length  
TRIM()   ‚Üí extra space remove ‡¶ï‡¶∞‡ßá  
SUBSTRING() ‚Üí string-‡¶è‡¶∞ ‡¶Ö‡¶Ç‡¶∂ ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡ßá  

Example:
--------
SELECT 
    UPPER(name) AS upper_name,
    LOWER(email) AS lower_email,
    LENGTH(name) AS name_length
FROM users;

-----------------------------------------------------------------------------------------
# 2.2 Numeric Functions
-----------------------------------------------------------------------------------------

ABS()    ‚Üí Absolute value  
ROUND()  ‚Üí Round ‡¶ï‡¶∞‡ßá  
CEILING() ‚Üí ‡¶â‡¶™‡¶∞‡ßá‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ  
FLOOR()  ‚Üí ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ  
POWER()  ‚Üí power ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ ‡¶ï‡¶∞‡ßá  

Example:
--------
SELECT 
    ABS(-25) AS absolute_value,
    ROUND(12.56, 1) AS rounded_value,
    CEILING(4.2) AS ceil_value,
    FLOOR(4.9) AS floor_value;

-----------------------------------------------------------------------------------------
# 2.3 Date & Time Functions
-----------------------------------------------------------------------------------------

CURRENT_DATE ‚Üí ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ  
CURRENT_TIME ‚Üí ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶∏‡¶Æ‡ßü  
NOW()         ‚Üí date + time  
AGE()         ‚Üí date difference  
EXTRACT()     ‚Üí date ‡¶•‡ßá‡¶ï‡ßá ‡¶Ö‡¶Ç‡¶∂ ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡ßá  

Example:
--------
SELECT 
    CURRENT_DATE AS today,
    NOW() AS current_datetime,
    EXTRACT(YEAR FROM NOW()) AS current_year;

-----------------------------------------------------------------------------------------
# 2.4 NULL Handling Functions
-----------------------------------------------------------------------------------------

COALESCE() ‚Üí NULL ‡¶π‡¶≤‡ßá alternative value ‡¶¶‡ßá‡ßü  
NULLIF()   ‚Üí ‡¶¶‡ßÅ‡¶á‡¶ü‡¶æ value equal ‡¶π‡¶≤‡ßá NULL ‡¶¶‡ßá‡ßü  

Example:
--------
SELECT 
    COALESCE(phone, 'Not Provided') AS phone_number
FROM users;

SELECT 
    NULLIF(10, 10) AS result;  -- return ‡¶ï‡¶∞‡¶¨‡ßá NULL

-----------------------------------------------------------------------------------------
# 2.5 Conditional Functions
-----------------------------------------------------------------------------------------

CASE ‚Üí IF-ELSE ‡¶è‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá  

Example:
--------
SELECT 
    name,
    salary,
    CASE
        WHEN salary >= 80000 THEN 'High Salary'
        WHEN salary >= 50000 THEN 'Medium Salary'
        ELSE 'Low Salary'
    END AS salary_category
FROM employees;

=========================================================================================
# 3. Aggregate Functions
=========================================================================================
üëâ Aggregate Function **‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï row ‡¶®‡¶ø‡ßü‡ßá ‡ßß‡¶ü‡¶æ result ‡¶¶‡ßá‡ßü**

-----------------------------------------------------------------------------------------
# 3.1 Common Aggregate Functions
-----------------------------------------------------------------------------------------

COUNT() ‚Üí row ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ  
SUM()   ‚Üí total  
AVG()   ‚Üí average  
MIN()   ‚Üí minimum  
MAX()   ‚Üí maximum  

Example:
--------
SELECT 
    COUNT(*) AS total_employees,
    SUM(salary) AS total_salary,
    AVG(salary) AS avg_salary,
    MIN(salary) AS min_salary,
    MAX(salary) AS max_salary
FROM employees;

-----------------------------------------------------------------------------------------
# 3.2 Aggregate + GROUP BY
-----------------------------------------------------------------------------------------
üëâ GROUP BY ‡¶õ‡¶æ‡ßú‡¶æ Aggregate ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶™‡ßÅ‡¶∞‡ßã table ‡¶è‡¶ï group ‡¶π‡ßü

Example:
--------
Goal:
üëâ Department-wise average salary

SELECT 
    department_id,
    AVG(salary) AS avg_salary
FROM employees
GROUP BY department_id;

-----------------------------------------------------------------------------------------
# 3.3 Aggregate + HAVING
-----------------------------------------------------------------------------------------
üëâ HAVING ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶π‡ßü aggregate result filter ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø

Example:
--------
Goal:
üëâ ‡¶Ø‡ßá‡¶∏‡¶¨ department-‡¶è‡¶∞ average salary > 60000

SELECT 
    department_id,
    AVG(salary) AS avg_salary
FROM employees
GROUP BY department_id
HAVING AVG(salary) > 60000;

=========================================================================================
# 4. Function vs WHERE vs HAVING
=========================================================================================

WHERE:
------
üëâ Row filter ‡¶ï‡¶∞‡ßá  
üëâ Aggregate function ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü ‡¶®‡¶æ

HAVING:
-------
üëâ Group filter ‡¶ï‡¶∞‡ßá  
üëâ Aggregate function ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü

Example:
--------
SELECT department_id, AVG(salary)
FROM employees
WHERE salary > 30000
GROUP BY department_id
HAVING AVG(salary) > 60000;

=========================================================================================
# 5. Function in SELECT, WHERE, ORDER BY
=========================================================================================

SELECT:
-------
SELECT UPPER(name) FROM users;

WHERE:
------
SELECT * FROM users WHERE LENGTH(name) > 5;

ORDER BY:
---------
SELECT * FROM users ORDER BY LOWER(name);

=========================================================================================
# 6. Common Mistakes
=========================================================================================

‚ùå WHERE ‡¶è aggregate function ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ  
‚ùå GROUP BY ‡¶õ‡¶æ‡ßú‡¶æ non-aggregated column SELECT ‡¶ï‡¶∞‡¶æ  
‚ùå NULL handle ‡¶®‡¶æ ‡¶ï‡¶∞‡¶æ  
‚ùå Function overuse (performance issue)

=========================================================================================
# 7. Cheat Sheet Summary
=========================================================================================

‚úî Scalar Function ‚Üí Row by Row  
‚úî Aggregate Function ‚Üí Multiple Row ‚Üí Single Result  
‚úî COUNT, SUM, AVG, MIN, MAX ‚Üí Core aggregate  
‚úî CASE ‚Üí Conditional logic  
‚úî COALESCE ‚Üí NULL handle  
‚úî HAVING ‚Üí Aggregate filter  

=========================================================================================
                                        THE END
=========================================================================================
