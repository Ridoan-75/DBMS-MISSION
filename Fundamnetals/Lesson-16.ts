=========================================================================================
                        RESOLVING MANY-TO-MANY RELATIONSHIPS
=========================================================================================

=========================================================================================
# 0. MANY-TO-MANY RELATIONSHIP ‡¶ï‡ßÄ?
=========================================================================================
‡¶Ø‡¶ñ‡¶® ‚Äî
üëâ ‡¶è‡¶ï‡¶ü‡¶ø Entity-‡¶è‡¶∞ ‡¶Ö‡¶®‡ßá‡¶ï‡¶ó‡ßÅ‡¶≤‡ßã instance ‡¶Ö‡¶®‡ßç‡¶Ø Entity-‡¶è‡¶∞ ‡¶Ö‡¶®‡ßá‡¶ï‡¶ó‡ßÅ‡¶≤‡ßã instance-‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï ‡¶∞‡¶æ‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá,  
‡¶§‡¶ñ‡¶® ‡¶è‡¶ü‡¶æ‡¶ï‡ßá ‡¶¨‡¶≤‡¶æ ‡¶π‡ßü **Many-to-Many (M:N)** Relationship‡•§

‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£:
- ‡¶è‡¶ï‡¶ú‡¶® Student ‡¶Ö‡¶®‡ßá‡¶ï Course ‡¶®‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá  
- ‡¶è‡¶ï‡¶ü‡¶ø Course ‡¶Ö‡¶®‡ßá‡¶ï Student ‡¶®‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá  

=========================================================================================
# 1. ‡¶ï‡ßá‡¶® MANY-TO-MANY ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶Ø‡¶æ‡ßü ‡¶®‡¶æ?
=========================================================================================
Relational Databases ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø M:N relationship ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ‡•§

‡¶ï‡¶æ‡¶∞‡¶£:
‚ùå Data redundancy ‡¶¨‡¶æ‡ßú‡ßá  
‚ùå Update anomaly  
‚ùå Insert anomaly  
‚ùå Delete anomaly  
‚ùå Referential integrity ‡¶≠‡ßá‡¶ô‡ßá ‡¶Ø‡¶æ‡ßü  

=========================================================================================
# 2. SOLUTION: JUNCTION (LINK) TABLE ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ
=========================================================================================
Many-to-many relationship resolve ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶è‡¶ï‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶â‡¶™‡¶æ‡ßü:

üëâ **‡¶¶‡ßÅ‡¶á ‡¶™‡¶æ‡¶∂‡¶ï‡ßá one-to-many ‡¶§‡ßá ‡¶≠‡ßá‡¶ô‡ßá ‡¶´‡ßá‡¶≤‡¶æ**  
üëâ ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø **junction / link / bridge table** ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü  
üëâ ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶¶‡ßÅ‚Äô‡¶™‡¶æ‡¶∂‡ßá‡¶∞ primary key ‚Üí foreign key ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶Ø‡¶æ‡ßü

=========================================================================================
# 3. VISUAL DIAGRAM
=========================================================================================
Students (1) ----< Enrollments >---- (1) Courses

Students (studentId)  
Courses (courseId)  
Enrollments (studentId + courseId)

=========================================================================================
# 4. MANY-TO-MANY RESOLVE ‡¶ï‡¶∞‡¶æ‡¶∞ A‚ÄìZ STEPS
=========================================================================================

#########################################################################################
# STEP 1: ‡¶¶‡ßÅ‡¶ü‡¶ø entity identify ‡¶ï‡¶∞‡ßã
#########################################################################################
Student  
Course

#########################################################################################
# STEP 2: Relationship ‡¶ß‡¶∞‡ßã
#########################################################################################
‡¶è‡¶ï‡¶ú‡¶® Student ‚Üí many Courses  
‡¶è‡¶ï‡¶ü‡¶ø Course ‚Üí many Students  
üëâ Many-to-Many

#########################################################################################
# STEP 3: Junction Table ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßã
#########################################################################################
Common names:
- enrollments  
- student_courses  
- registrations  
- student_course_map  

#########################################################################################
# STEP 4: ‡¶¶‡ßÅ‡¶á entity ‡¶è‡¶∞ primary key ‚Üí junction table ‡¶è FK ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá
#########################################################################################

TABLE: students
------------------------
studentId (PK)
studentName

TABLE: courses
------------------------
courseId (PK)
courseName

TABLE: enrollments
---------------------------------------------------
enrollmentId (PK)   (optional)
studentId (FK ‚Üí students.studentId)
courseId  (FK ‚Üí courses.courseId)
marks
enrolledAt
---------------------------------------------------

üìå composite PK ‡¶ì ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü ‚Üí (studentId + courseId)

=========================================================================================
# 5. JUNCTION TABLE ‡¶ï‡ßá‡¶® ‡¶≤‡¶æ‡¶ó‡ßá?
=========================================================================================
üéØ ‡¶¶‡ßÅ‡¶á entity ‡¶è‡¶∞ relationship map ‡¶ï‡¶∞‡¶§‡ßá  
üéØ Duplicate avoid ‡¶ï‡¶∞‡¶§‡ßá  
üéØ Relationship-‡¶è‡¶∞ extra data ‡¶∞‡¶æ‡¶ñ‡¶§‡ßá (marks, grade, enrolledAt etc.)  
üéØ Referential integrity ensure ‡¶ï‡¶∞‡¶§‡ßá  

=========================================================================================
# 6. EXTRA ATTRIBUTE ‡¶ï‡¶ñ‡¶® junction table ‡¶è ‡¶Ø‡¶æ‡¶¨‡ßá?
=========================================================================================
‡¶Ø‡¶ñ‡¶® relationship ‡¶®‡¶ø‡¶ú‡ßá‡¶á data carry ‡¶ï‡¶∞‡ßá:

- enrollmentDate  
- marks  
- semester  
- assignedBy  

üëâ ‡¶è‡¶ó‡ßÅ‡¶≤‡ßã Student table ‡¶è ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶®‡¶æ  
üëâ Course table ‡¶è ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶®‡¶æ  
üëâ Relationship (junction table) ‡¶è ‡¶Ø‡¶æ‡¶¨‡ßá

=========================================================================================
# 7. REAL-LIFE MANY-TO-MANY EXAMPLES
=========================================================================================

### Example 1: Authors ‚áÑ Books
authors, books, author_book_map

### Example 2: Products ‚áÑ Orders
orders, products, order_items (quantity, price ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡ßü)

### Example 3: Students ‚áÑ Classes
students, classes, student_class

=========================================================================================
# 8. MEMORY TRICK (‡ßß ‡¶≤‡¶æ‡¶á‡¶®‡ßá)
=========================================================================================
üìå **M:N = Always solved with a junction table containing both FKs**

=========================================================================================
# 9. COMPLETE DATABASE STRUCTURE (TEXT ERD)
=========================================================================================

STUDENTS  
-------------------------------------  
studentId (PK)  
studentName  

COURSES  
-------------------------------------  
courseId (PK)  
courseName  

ENROLLMENTS  
-------------------------------------  
enrollmentId (PK) (optional)  
studentId (FK ‚Üí students)  
courseId  (FK ‚Üí courses)  
marks  
enrolledAt  

=========================================================================================
# 10. FINAL SUMMARY
=========================================================================================
üéØ Relational DB ‡¶§‡ßá many-to-many allowed ‡¶®‡¶æ  
üéØ Junction table ‡¶¶‡¶ø‡ßü‡ßá ‡¶¶‡ßÅ‡¶á‡¶ü‡¶æ one-to-many ‡¶§‡ßá convert ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡ßü  
üéØ Junction table ‡¶¶‡ßÅ‡¶á entity ‡¶è‡¶∞ PK ‡¶ï‡ßá FK ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶∞‡¶æ‡¶ñ‡ßá  
üéØ Relationship-‡¶è‡¶∞ extra data ‡¶è‡¶ñ‡¶æ‡¶®‡ßá‡¶á ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡ßü  

üëâ Many-to-Many = Two One-to-Many + Junction Table

=========================================================================================
                                     THE END
=========================================================================================
