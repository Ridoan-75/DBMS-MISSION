=========================================================================================
                 MULTIPLE CONSTRAINTS & INSERT DATA 
=========================================================================================

=========================================================================================
# 0. MULTIPLE CONSTRAINTS ‡¶Æ‡¶æ‡¶®‡ßá ‡¶ï‡ßÄ?
=========================================================================================
Multiple Constraints ‡¶Æ‡¶æ‡¶®‡ßá ‚Äî
üëâ ‡¶è‡¶ï‡¶ü‡¶ø Column ‡¶¨‡¶æ Table ‡¶è **‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï Constraint ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ**

‡¶ï‡¶æ‡¶∞‡¶£ ‚Äî
‚Ä¢ Real-world rule ‡¶è‡¶ï‡¶ü‡¶æ‡¶á ‡¶®‡¶æ  
‚Ä¢ Data ‡¶Ü‡¶∞‡¶ì ‡¶¨‡ßá‡¶∂‡¶ø Secure ‡¶π‡ßü  
‚Ä¢ Invalid data ‡¶¢‡ßÅ‡¶ï‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá ‡¶®‡¶æ  

=========================================================================================
# 1. ‡¶è‡¶ï‡¶ü‡¶ø Column ‡¶è Multiple Constraints
=========================================================================================
‡¶è‡¶ï‡¶ü‡¶ø Column ‡¶è ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶•‡¶æ‡¶ï‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá:

‚Ä¢ NOT NULL  
‚Ä¢ UNIQUE  
‚Ä¢ DEFAULT  
‚Ä¢ CHECK  

-----------------------------------------------------------------------------------------
Example:
-----------------------------------------------------------------------------------------
CREATE TABLE users (
    email VARCHAR(100) NOT NULL UNIQUE
);

üëâ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá email ‚Äî
‚Ä¢ NULL ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶®‡¶æ  
‚Ä¢ Duplicate ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶®‡¶æ  

=========================================================================================
# 2. INTEGER Column ‡¶è Multiple Constraints
=========================================================================================
CREATE TABLE users (
    age INTEGER NOT NULL CHECK (age >= 18)
);

üëâ Rules:
‚Ä¢ age ‡¶¶‡¶ø‡¶§‡ßá ‡¶π‡¶¨‡ßá  
‚Ä¢ age ‡ßß‡ßÆ ‡¶è‡¶∞ ‡¶ï‡¶Æ ‡¶π‡¶≤‡ßá insert ‡¶π‡¶¨‡ßá ‡¶®‡¶æ  

=========================================================================================
# 3. BOOLEAN Column ‡¶è Multiple Constraints
=========================================================================================
CREATE TABLE users (
    is_active BOOLEAN NOT NULL DEFAULT TRUE
);

üëâ Value ‡¶®‡¶æ ‡¶¶‡¶ø‡¶≤‡ßá ‚Äî
‚Ä¢ Automatically TRUE ‡¶¨‡¶∏‡¶¨‡ßá  

=========================================================================================
# 4. PRIMARY KEY + OTHER CONSTRAINTS
=========================================================================================
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE
);

üëâ username:
‚Ä¢ NULL ‡¶®‡ßü  
‚Ä¢ Duplicate ‡¶®‡ßü  

=========================================================================================
# 5. FULL REAL-WORLD TABLE (MULTIPLE CONSTRAINTS)
=========================================================================================
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    age INTEGER CHECK (age >= 18),
    is_active BOOLEAN DEFAULT TRUE,
    created_date DATE DEFAULT CURRENT_DATE
);

=========================================================================================
# 6. INSERT DATA ‡¶ï‡ßÄ?
=========================================================================================
INSERT ‡¶Æ‡¶æ‡¶®‡ßá ‚Äî
üëâ Table ‡¶è‡¶∞ ‡¶≠‡¶ø‡¶§‡¶∞‡ßá ‡¶®‡¶§‡ßÅ‡¶® Data ‡¶¢‡ßã‡¶ï‡¶æ‡¶®‡ßã

=========================================================================================
# 7. SIMPLE INSERT
=========================================================================================
INSERT INTO users (name, email, age)
VALUES ('Rahim', 'rahim@gmail.com', 22);

üëâ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‚Äî
‚Ä¢ is_active ‚Üí TRUE (default)
‚Ä¢ created_date ‚Üí ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ date

=========================================================================================
# 8. INSERT WITHOUT OPTIONAL COLUMNS
=========================================================================================
INSERT INTO users (name, email)
VALUES ('Karim', 'karim@gmail.com');

üëâ age NULL ‡¶π‡¶¨‡ßá  
üëâ Default values auto ‡¶¨‡¶∏‡¶¨‡ßá  

=========================================================================================
# 9. INSERT WITH BOOLEAN
=========================================================================================
INSERT INTO users (name, email, age, is_active)
VALUES ('Hasan', 'hasan@gmail.com', 25, FALSE);

=========================================================================================
# 10. MULTIPLE ROW INSERT
=========================================================================================
INSERT INTO users (name, email, age)
VALUES
('Arafat', 'arafat@gmail.com', 23),
('Sadia', 'sadia@gmail.com', 21),
('Nabila', 'nabila@gmail.com', 24);

=========================================================================================
# 11. INSERT ERROR ‚Äì UNIQUE CONSTRAINT
=========================================================================================
INSERT INTO users (name, email)
VALUES ('Duplicate', 'rahim@gmail.com');

‚ùå ERROR:
‚Ä¢ email must be unique  

=========================================================================================
# 12. INSERT ERROR ‚Äì NOT NULL CONSTRAINT
=========================================================================================
INSERT INTO users (email)
VALUES ('test@gmail.com');

‚ùå ERROR:
‚Ä¢ name cannot be null  

=========================================================================================
# 13. INSERT ERROR ‚Äì CHECK CONSTRAINT
=========================================================================================
INSERT INTO users (name, email, age)
VALUES ('Child', 'child@gmail.com', 15);

‚ùå ERROR:
‚Ä¢ age must be >= 18  

=========================================================================================
# 14. FOREIGN KEY + INSERT
=========================================================================================
Parent Table:
-----------------------------------------------------------------------------------------
CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    order_date DATE DEFAULT CURRENT_DATE
);

=========================================================================================
# 15. FOREIGN KEY VALID INSERT
=========================================================================================
INSERT INTO orders (user_id)
VALUES (1);

‚úî user_id = 1 users table ‡¶è ‡¶Ü‡¶õ‡ßá

=========================================================================================
# 16. FOREIGN KEY INVALID INSERT
=========================================================================================
INSERT INTO orders (user_id)
VALUES (999);

‚ùå ERROR:
‚Ä¢ foreign key constraint violation  

=========================================================================================
# 17. BEST PRACTICE: INSERT ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá CHECK
=========================================================================================
‚úî Column constraints ‡¶¨‡ßÅ‡¶ù‡ßá insert ‡¶ï‡¶∞‡ßã  
‚úî Required field miss ‡¶ï‡¶∞‡ßã ‡¶®‡¶æ  
‚úî Unique field duplicate ‡¶¶‡¶ø‡¶ì ‡¶®‡¶æ  

=========================================================================================
# 18. COMMON BEGINNER MISTAKES
=========================================================================================
‚ùå Required column ‡¶¨‡¶æ‡¶¶ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ  
‚ùå Duplicate email insert ‡¶ï‡¶∞‡¶æ  
‚ùå CHECK rule ignore ‡¶ï‡¶∞‡¶æ  
‚ùå Foreign key value ‡¶≠‡ßÅ‡¶≤ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ  

=========================================================================================
# 19. REAL PROJECT THINKING
=========================================================================================
users table:
‚Ä¢ email ‚Üí UNIQUE + NOT NULL  
‚Ä¢ age ‚Üí CHECK  
‚Ä¢ is_active ‚Üí DEFAULT  

orders table:
‚Ä¢ user_id ‚Üí FOREIGN KEY  

üëâ Constraints ‡¶†‡¶ø‡¶ï ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‚Äî
Backend code ‡¶Ö‡¶®‡ßá‡¶ï safe ‡¶π‡ßü

=========================================================================================
# 20. QUICK REVISION
=========================================================================================
Multiple Constraints ‚Üí
‚Ä¢ More Rules
‚Ä¢ Better Data Integrity

INSERT ‚Üí
‚Ä¢ Valid data ‚Üí Success  
‚Ä¢ Invalid data ‚Üí Error  

=========================================================================================
                               THE END
=========================================================================================
